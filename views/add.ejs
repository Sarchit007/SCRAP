<% include ./partials/header.ejs %>

<div class="w-full min-h-screen bg-zinc-900 px-10 py-10 text-white flex flex-col items-center">
    <h1 class="text-3xl font-semibold mb-2">Create a New Post</h1>
    <p class="text-gray-400 mb-5">Share your thoughts with the world.</p>
    <hr class="opacity-20 w-full max-w-2xl mb-6">

    <form action="/createpost" method="post" enctype="multipart/form-data" class="w-full max-w-2xl bg-zinc-800 p-6 rounded-lg shadow-md">
        
        <!-- Custom File Upload -->
        <label class="block text-lg font-medium mb-2">Upload Image</label>
        <div class="relative w-full">
            <input id="fileInput" type="file" name="postimage" class="hidden">
            <label for="fileInput" 
                class="flex items-center justify-center w-full px-4 py-3 bg-zinc-700 text-white border border-zinc-600 rounded-md cursor-pointer hover:bg-zinc-600 transition-all duration-300">
                <i class="ri-upload-cloud-2-line mr-2"></i> Choose File
            </label>
            <p id="fileName" class="text-gray-400 text-sm mt-1">No file chosen</p>
        </div>

        <label class="block text-lg font-medium mt-4">Title</label>
        <input class="block w-full px-3 py-2 text-white bg-zinc-700 border border-zinc-600 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-300"
            type="text" placeholder="Enter post title" name="title">

        <label class="block text-lg font-medium mt-4">Content</label>
        <textarea class="block w-full h-40 px-3 py-2 text-white bg-zinc-700 border border-zinc-600 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-300"
            placeholder="Write something amazing..." name="description"></textarea>

        <button class="mt-5 w-full py-3 bg-red-600 hover:bg-red-500 transition-all duration-300 text-white font-semibold rounded-lg shadow-md">
            Post
        </button>
    </form>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
    gsap.from("form", { 
        opacity: 0, 
        y: 50, 
        duration: 1, 
        ease: "power2.out" 
    });

    // File Upload Customization
    document.getElementById("fileInput").addEventListener("change", function(event) {
        let fileName = event.target.files.length ? event.target.files[0].name : "No file chosen";
        document.getElementById("fileName").innerText = fileName;
    });
</script>

<% include ./partials/footer.ejs %>
